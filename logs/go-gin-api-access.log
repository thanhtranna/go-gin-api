{"level":"info","time":"2021-05-19 11:29:17","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-19 11:47:53","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-19 11:49:09","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-19 11:49:55","caller":"core/core.go:359","msg":"got panic","domain":"go-gin-api[fat]","panic":"runtime error: invalid memory address or nil pointer dereference","stack":"goroutine 42 [running]:\nruntime/debug.Stack(0xc0003c7060, 0x4bbb7e0, 0x67eb720)\n\t/usr/local/go/src/runtime/debug/stack.go:24 +0x9d\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2.1(0xc0001c4060, 0x4f16b00, 0xc00021c390, 0xc0004a3440, 0xc00074c000, 0xc021441cf2de1070, 0x9da6f20ee, 0x6806960)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:358 +0x19e6\npanic(0x4bbb7e0, 0x67eb720)\n\t/usr/local/go/src/runtime/panic.go:969 +0x166\ngithub.com/xinliangnote/go-gin-api/internal/api/service/authorized_service.(*service).DetailByKey(0xc00021ece0, 0x4f16b00, 0xc00021c398, 0xc0002347c0, 0x5, 0x1, 0xc0001e9860, 0x2)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/api/service/authorized_service/service_detailbykey.go:30 +0x134\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Signature.func1(0x4f16b00, 0xc00021c398)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_signature.go:60 +0x5f0\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1(0xc00074c000)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214 +0xab\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00074c000)\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3(0xc00074c000)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505 +0x1ac\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00074c000)\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2(0xc00074c000)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487 +0x1f8\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00074c000)\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1(0xc00074c000)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336 +0x52\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00074c000)\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0001a6500, 0xc00074c000)\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409 +0x666\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0001a6500, 0x4ef5800, 0xc0001f8700, 0xc0000e2c00)\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367 +0x14d\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP(0xc00012cd18, 0x4ef5800, 0xc0001f8700, 0xc0000e2c00)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234 +0x4c\nnet/http.serverHandler.ServeHTTP(0xc0004ee000, 0x4ef5800, 0xc0001f8700, 0xc0000e2c00)\n\t/usr/local/go/src/net/http/server.go:2836 +0xa3\nnet/http.(*conn).serve(0xc00042c280, 0x4ef9a40, 0xc000440640)\n\t/usr/local/go/src/net/http/server.go:1924 +0x86c\ncreated by net/http.(*Server).Serve\n\t/usr/local/go/src/net/http/server.go:2962 +0x35c\n"}
{"level":"error","time":"2021-05-19 11:49:55","caller":"notify/notify.go:15","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-19 11:49:55","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/login/web","http_code":500,"business_code":10101,"success":false,"cost_seconds":0.000530309,"trace_id":"aa938c2be118cd4d464b","trace_info":{"trace_id":"aa938c2be118cd4d464b","request":{"ttl":"un-limit","method":"POST","decoded_url":"/login/web","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin geI5W4e3aNlgMqSklXZ02hRiL7nx3awUcLbk5Znb4Js="],"Authorization-Date":["2021-05-19 11:49:55"],"Connection":["keep-alive"],"Content-Length":["56"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Origin":["http://127.0.0.1:9999"],"Referer":["http://127.0.0.1:9999/login"],"Sec-Ch-Ua":["\"Google Chrome\";v=\"89\", \"Chromium\";v=\"89\", \";Not A Brand\";v=\"99\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"username=admin&password=827ccb0eea8a706c4c34a16891f84e7b"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["aa938c2be118cd4d464b"],"Vary":["Origin"]},"body":{"HttpCode":500,"BusinessCode":10101,"Message":"Internal Server Error","Err":null},"business_code":10101,"business_code_msg":"Internal Server Error","http_code":500,"http_code_msg":"Internal Server Error","cost_seconds":0.00053014},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.000530309}}
{"level":"info","time":"2021-05-19 11:51:57","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-19 11:52:18","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000183649,"trace_id":"b447758295c1d19db844","trace_info":{"trace_id":"b447758295c1d19db844","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin VWCm4444MoVc4oldKTkXlN2UlHkJ1x3zl0laecDXH9I="],"Authorization-Date":["2021-05-19 11:52:18"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\"Google Chrome\";v=\"89\", \"Chromium\";v=\"89\", \";Not A Brand\";v=\"99\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b447758295c1d19db844"],"Vary":["Origin"]},"body":{"HttpCode":401,"BusinessCode":10104,"Message":"The signature information is incorrect","Err":{}},"business_code":10104,"business_code_msg":"The signature information is incorrect","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000183456},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.000183649},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/go/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/usr/local/go/src/net/http/server.go:1924\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ngithub.com/xinliangnote/go-gin-api/pkg/errno.(*err).WithErr\n\t/Users/thanhtran/Documents/Golang/go-gin-api/pkg/errno/errno.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/go/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/usr/local/go/src/net/http/server.go:1924\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373"}
{"level":"info","time":"2021-05-19 11:52:26","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 11:52:26","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 11:52:26","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 11:52:26","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 11:52:30","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000161629,"trace_id":"7f053e801e8b5e6770dd","trace_info":{"trace_id":"7f053e801e8b5e6770dd","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin lYurDE9ndiYRpiAHMzWqy89oMX/hIEif6vEegZWp6bI="],"Authorization-Date":["2021-05-19 11:52:30"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\"Google Chrome\";v=\"89\", \"Chromium\";v=\"89\", \";Not A Brand\";v=\"99\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7f053e801e8b5e6770dd"],"Vary":["Origin"]},"body":{"HttpCode":401,"BusinessCode":10104,"Message":"The signature information is incorrect","Err":{}},"business_code":10104,"business_code_msg":"The signature information is incorrect","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000161439},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.000161629},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/go/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/usr/local/go/src/net/http/server.go:1924\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ngithub.com/xinliangnote/go-gin-api/pkg/errno.(*err).WithErr\n\t/Users/thanhtran/Documents/Golang/go-gin-api/pkg/errno/errno.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/go/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/usr/local/go/src/net/http/server.go:1924\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373"}
{"level":"info","time":"2021-05-19 11:52:45","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"POST","path":"/login/web","http_code":200,"business_code":0,"success":true,"cost_seconds":0.008585305,"trace_id":"1ff7cd800d255c506fb3","trace_info":{"trace_id":"1ff7cd800d255c506fb3","request":{"ttl":"un-limit","method":"POST","decoded_url":"/login/web","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["en-US,en;q=0.9"],"Authorization":["admin 7ARPP1uOC3NXVz049PudrA6u7MNb/8NUwKDLdVIbePs="],"Authorization-Date":["2021-05-19 11:52:45"],"Connection":["keep-alive"],"Content-Length":["56"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Origin":["http://127.0.0.1:9999"],"Referer":["http://127.0.0.1:9999/login"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Sec-Gpc":["1"],"User-Agent":["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1ff7cd800d255c506fb3"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.00858507},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-19 11:52:45","stack":"/Users/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/authorized_repo/gen_authorized.go:80","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 AND business_key = 'admin' ORDER BY `authorized`.`id` LIMIT 1","rows_affected":1,"cost_seconds":0.00247859},{"timestamp":"2021-05-19 11:52:45","stack":"/Users/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/authorized_api_repo/gen_authorized_api.go:98","sql":"SELECT * FROM `authorized_api` WHERE is_deleted = -1 AND business_key = 'admin' ORDER BY id DESC ","rows_affected":5,"cost_seconds":0.001525773},{"timestamp":"2021-05-19 11:52:45","stack":"/Users/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.001635139}],"redis":[{"timestamp":"2021-05-19 11:52:45","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.001041789},{"timestamp":"2021-05-19 11:52:45","handle":"set","key":"go-gin-api:authorized:admin","value":"{\"key\":\"admin\",\"secret\":\"12878dd962115106db6d\",\"is_used\":1,\"apis\":[{\"method\":\"PATCH\",\"api\":\"/api/**\"},{\"method\":\"DELETE\",\"api\":\"/api/**\"},{\"method\":\"PUT\",\"api\":\"/api/**\"},{\"method\":\"POST\",\"api\":\"/api/**\"},{\"method\":\"GET\",\"api\":\"/api/**\"}]}","ttl":1440,"cost_seconds":0.000763434},{"timestamp":"2021-05-19 11:52:45","handle":"set","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","value":"{\"Id\":1,\"Username\":\"admin\",\"Password\":\"f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0\",\"Nickname\":\"administrator\",\"Mobile\":\"13888888888\",\"IsUsed\":1,\"IsDeleted\":-1,\"CreatedAt\":\"2021-05-19T04:49:45+07:00\",\"CreatedUser\":\"init\",\"UpdatedAt\":\"2021-05-19T04:49:45+07:00\",\"UpdatedUser\":\"\"}","ttl":1440,"cost_seconds":0.000593754}],"grpc":null,"success":true,"cost_seconds":0.008585305}}
{"level":"info","time":"2021-05-19 11:52:46","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.005543504,"trace_id":"0bb333cd0e99836f3995","trace_info":{"trace_id":"0bb333cd0e99836f3995","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["en-US,en;q=0.9"],"Authorization":["admin p3YaIWWtEDOTTuaD8IhesXYRgsPOeArSKmNVWnMstS4="],"Authorization-Date":["2021-05-19 11:52:46"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["_login_token_=1ba4686338ee7354395ad13f7d3466c1"],"Referer":["http://127.0.0.1:9999/"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Sec-Gpc":["1"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0bb333cd0e99836f3995"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"administrator","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.005543223},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-19 11:52:46","stack":"/Users/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.002278963}],"redis":[{"timestamp":"2021-05-19 11:52:46","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000860909},{"timestamp":"2021-05-19 11:52:46","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000805598}],"grpc":null,"success":true,"cost_seconds":0.005543504}}
{"level":"info","time":"2021-05-19 11:59:56","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"POST","path":"/api/admin/logout","http_code":200,"business_code":0,"success":true,"cost_seconds":0.003606801,"trace_id":"42973a001f1723d24188","trace_info":{"trace_id":"42973a001f1723d24188","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin/logout","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["en-US,en;q=0.9"],"Authorization":["admin y20WUV0+64Xi8281ai3IeolXr0YYFT9ftvhYCwh+AQI="],"Authorization-Date":["2021-05-19 11:59:56"],"Connection":["keep-alive"],"Content-Length":["0"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["_login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fconfig%2Fcode; _nav_title_=%E9%94%99%E8%AF%AF%E7%A0%81"],"Origin":["http://127.0.0.1:9999"],"Referer":["http://127.0.0.1:9999/"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Sec-Gpc":["1"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["42973a001f1723d24188"],"Vary":["Origin"]},"body":{"username":"admin"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.003606551},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-19 11:59:56","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000726965},{"timestamp":"2021-05-19 11:59:56","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000814298},{"timestamp":"2021-05-19 11:59:56","handle":"del","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000666419}],"grpc":null,"success":true,"cost_seconds":0.003606801}}
{"level":"info","time":"2021-05-19 17:25:47","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000158137,"trace_id":"3bd64a457419391305dd","trace_info":{"trace_id":"3bd64a457419391305dd","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin 8sl2SF866Ie4FjelQIAfDJVoaTXRPwG1YnaIu3QQ8Ks="],"Authorization-Date":["2021-05-19 17:25:47"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3bd64a457419391305dd"],"Vary":["Origin"]},"body":{"HttpCode":401,"BusinessCode":10104,"Message":"The signature information is incorrect","Err":{}},"business_code":10104,"business_code_msg":"The signature information is incorrect","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.00015794},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.000158137},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:1924\nruntime.goexit\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/runtime/asm_amd64.s:1373\ngithub.com/xinliangnote/go-gin-api/pkg/errno.(*err).WithErr\n\t/home/thanhtran/Documents/Golang/go-gin-api/pkg/errno/errno.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:1924\nruntime.goexit\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/runtime/asm_amd64.s:1373"}
{"level":"info","time":"2021-05-19 17:25:57","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"POST","path":"/login/web","http_code":200,"business_code":0,"success":true,"cost_seconds":0.033759187,"trace_id":"0b30172d676be809fb50","trace_info":{"trace_id":"0b30172d676be809fb50","request":{"ttl":"un-limit","method":"POST","decoded_url":"/login/web","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin aLhIWb46RyBZymklkox+eueHGVYjA0pKGB3dTyhXBf4="],"Authorization-Date":["2021-05-19 17:25:57"],"Connection":["keep-alive"],"Content-Length":["56"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK"],"Origin":["http://127.0.0.1:9999"],"Referer":["http://127.0.0.1:9999/login"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0b30172d676be809fb50"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.033758331},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-19 17:25:57","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/authorized_repo/gen_authorized.go:80","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 AND business_key = 'admin' ORDER BY `authorized`.`id` LIMIT 1","rows_affected":1,"cost_seconds":0.012627817},{"timestamp":"2021-05-19 17:25:57","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/authorized_api_repo/gen_authorized_api.go:98","sql":"SELECT * FROM `authorized_api` WHERE is_deleted = -1 AND business_key = 'admin' ORDER BY id DESC ","rows_affected":5,"cost_seconds":0.007471291},{"timestamp":"2021-05-19 17:25:57","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.008722189}],"redis":[{"timestamp":"2021-05-19 17:25:57","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000726734},{"timestamp":"2021-05-19 17:25:57","handle":"set","key":"go-gin-api:authorized:admin","value":"{\"key\":\"admin\",\"secret\":\"12878dd962115106db6d\",\"is_used\":1,\"apis\":[{\"method\":\"PATCH\",\"api\":\"/api/**\"},{\"method\":\"DELETE\",\"api\":\"/api/**\"},{\"method\":\"PUT\",\"api\":\"/api/**\"},{\"method\":\"POST\",\"api\":\"/api/**\"},{\"method\":\"GET\",\"api\":\"/api/**\"}]}","ttl":1440,"cost_seconds":0.001729065},{"timestamp":"2021-05-19 17:25:57","handle":"set","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","value":"{\"Id\":1,\"Username\":\"admin\",\"Password\":\"f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0\",\"Nickname\":\"Jeremie\",\"Mobile\":\"13888888888\",\"IsUsed\":1,\"IsDeleted\":-1,\"CreatedAt\":\"2021-05-06T10:33:45+07:00\",\"CreatedUser\":\"init\",\"UpdatedAt\":\"2021-05-06T10:33:45+07:00\",\"UpdatedUser\":\"\"}","ttl":1440,"cost_seconds":0.000677633}],"grpc":null,"success":true,"cost_seconds":0.033759187}}
{"level":"info","time":"2021-05-19 17:25:58","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001144964,"trace_id":"dab6510f6d9597691253","trace_info":{"trace_id":"dab6510f6d9597691253","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin MnVXDQAsmtAgf3R8qMpbh+0zh3wfZ4EpYxIaSCjBbpc="],"Authorization-Date":["2021-05-19 17:25:58"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["dab6510f6d9597691253"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"Jeremie","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001144668},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-19 17:25:58","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.000560329}],"redis":[{"timestamp":"2021-05-19 17:25:58","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000090624},{"timestamp":"2021-05-19 17:25:58","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000067386}],"grpc":null,"success":true,"cost_seconds":0.001144964}}
{"level":"info","time":"2021-05-19 18:03:52","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 18:03:52","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 18:03:52","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 18:03:52","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 18:04:03","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001849664,"trace_id":"2c8bbb7d46c6b6fa9407","trace_info":{"trace_id":"2c8bbb7d46c6b6fa9407","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin aJp5Mh2kSP/ZjYDvsbrFr7jOaWCnYDMiO/1cFgJXgsk="],"Authorization-Date":["2021-05-19 18:04:03"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fconfig%2Fcode; _nav_title_=%E9%94%99%E8%AF%AF%E7%A0%81"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2c8bbb7d46c6b6fa9407"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"Jeremie","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001849326},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-19 18:04:03","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.000847385}],"redis":[{"timestamp":"2021-05-19 18:04:03","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000095352},{"timestamp":"2021-05-19 18:04:03","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000090237}],"grpc":null,"success":true,"cost_seconds":0.001849664}}
{"level":"info","time":"2021-05-19 18:04:10","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001452042,"trace_id":"443500b8f779858774d3","trace_info":{"trace_id":"443500b8f779858774d3","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin odtpPi6Cz/pyZJm6SdvUDptVuVHDeKIC4Gl3U1llz/E="],"Authorization-Date":["2021-05-19 18:04:10"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fdashboard; _nav_title_=%20%E4%BB%AA%E8%A1%A8%E7%9B%98"],"Referer":["http://127.0.0.1:9999/admin/modify_info"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["443500b8f779858774d3"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"Jeremie","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001451708},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-19 18:04:10","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.000666836}],"redis":[{"timestamp":"2021-05-19 18:04:10","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000241687},{"timestamp":"2021-05-19 18:04:10","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000130688}],"grpc":null,"success":true,"cost_seconds":0.001452042}}
{"level":"info","time":"2021-05-19 18:05:35","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 18:05:35","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 18:05:35","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 18:05:35","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[dev]"}
