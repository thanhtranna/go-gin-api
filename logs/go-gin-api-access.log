{"level":"info","time":"2021-05-19 11:29:17","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-19 11:47:53","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-19 11:49:09","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"error","time":"2021-05-19 11:49:55","caller":"core/core.go:359","msg":"got panic","domain":"go-gin-api[fat]","panic":"runtime error: invalid memory address or nil pointer dereference","stack":"goroutine 42 [running]:\nruntime/debug.Stack(0xc0003c7060, 0x4bbb7e0, 0x67eb720)\n\t/usr/local/go/src/runtime/debug/stack.go:24 +0x9d\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2.1(0xc0001c4060, 0x4f16b00, 0xc00021c390, 0xc0004a3440, 0xc00074c000, 0xc021441cf2de1070, 0x9da6f20ee, 0x6806960)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:358 +0x19e6\npanic(0x4bbb7e0, 0x67eb720)\n\t/usr/local/go/src/runtime/panic.go:969 +0x166\ngithub.com/xinliangnote/go-gin-api/internal/api/service/authorized_service.(*service).DetailByKey(0xc00021ece0, 0x4f16b00, 0xc00021c398, 0xc0002347c0, 0x5, 0x1, 0xc0001e9860, 0x2)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/api/service/authorized_service/service_detailbykey.go:30 +0x134\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Signature.func1(0x4f16b00, 0xc00021c398)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_signature.go:60 +0x5f0\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1(0xc00074c000)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214 +0xab\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00074c000)\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3(0xc00074c000)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505 +0x1ac\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00074c000)\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2(0xc00074c000)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487 +0x1f8\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00074c000)\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1(0xc00074c000)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336 +0x52\ngithub.com/gin-gonic/gin.(*Context).Next(0xc00074c000)\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161 +0x3b\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc0001a6500, 0xc00074c000)\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409 +0x666\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc0001a6500, 0x4ef5800, 0xc0001f8700, 0xc0000e2c00)\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367 +0x14d\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP(0xc00012cd18, 0x4ef5800, 0xc0001f8700, 0xc0000e2c00)\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234 +0x4c\nnet/http.serverHandler.ServeHTTP(0xc0004ee000, 0x4ef5800, 0xc0001f8700, 0xc0000e2c00)\n\t/usr/local/go/src/net/http/server.go:2836 +0xa3\nnet/http.(*conn).serve(0xc00042c280, 0x4ef9a40, 0xc000440640)\n\t/usr/local/go/src/net/http/server.go:1924 +0x86c\ncreated by net/http.(*Server).Serve\n\t/usr/local/go/src/net/http/server.go:2962 +0x35c\n"}
{"level":"error","time":"2021-05-19 11:49:55","caller":"notify/notify.go:15","msg":"Mail config error","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-19 11:49:55","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/login/web","http_code":500,"business_code":10101,"success":false,"cost_seconds":0.000530309,"trace_id":"aa938c2be118cd4d464b","trace_info":{"trace_id":"aa938c2be118cd4d464b","request":{"ttl":"un-limit","method":"POST","decoded_url":"/login/web","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin geI5W4e3aNlgMqSklXZ02hRiL7nx3awUcLbk5Znb4Js="],"Authorization-Date":["2021-05-19 11:49:55"],"Connection":["keep-alive"],"Content-Length":["56"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Origin":["http://127.0.0.1:9999"],"Referer":["http://127.0.0.1:9999/login"],"Sec-Ch-Ua":["\"Google Chrome\";v=\"89\", \"Chromium\";v=\"89\", \";Not A Brand\";v=\"99\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"username=admin&password=827ccb0eea8a706c4c34a16891f84e7b"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["aa938c2be118cd4d464b"],"Vary":["Origin"]},"body":{"HttpCode":500,"BusinessCode":10101,"Message":"Internal Server Error","Err":null},"business_code":10101,"business_code_msg":"Internal Server Error","http_code":500,"http_code_msg":"Internal Server Error","cost_seconds":0.00053014},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.000530309}}
{"level":"info","time":"2021-05-19 11:51:57","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-19 11:52:18","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000183649,"trace_id":"b447758295c1d19db844","trace_info":{"trace_id":"b447758295c1d19db844","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin VWCm4444MoVc4oldKTkXlN2UlHkJ1x3zl0laecDXH9I="],"Authorization-Date":["2021-05-19 11:52:18"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\"Google Chrome\";v=\"89\", \"Chromium\";v=\"89\", \";Not A Brand\";v=\"99\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["b447758295c1d19db844"],"Vary":["Origin"]},"body":{"HttpCode":401,"BusinessCode":10104,"Message":"The signature information is incorrect","Err":{}},"business_code":10104,"business_code_msg":"The signature information is incorrect","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000183456},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.000183649},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/go/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/usr/local/go/src/net/http/server.go:1924\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ngithub.com/xinliangnote/go-gin-api/pkg/errno.(*err).WithErr\n\t/Users/thanhtran/Documents/Golang/go-gin-api/pkg/errno/errno.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/go/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/usr/local/go/src/net/http/server.go:1924\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373"}
{"level":"info","time":"2021-05-19 11:52:26","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 11:52:26","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 11:52:26","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 11:52:26","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 11:52:30","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000161629,"trace_id":"7f053e801e8b5e6770dd","trace_info":{"trace_id":"7f053e801e8b5e6770dd","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin lYurDE9ndiYRpiAHMzWqy89oMX/hIEif6vEegZWp6bI="],"Authorization-Date":["2021-05-19 11:52:30"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\"Google Chrome\";v=\"89\", \"Chromium\";v=\"89\", \";Not A Brand\";v=\"99\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["7f053e801e8b5e6770dd"],"Vary":["Origin"]},"body":{"HttpCode":401,"BusinessCode":10104,"Message":"The signature information is incorrect","Err":{}},"business_code":10104,"business_code_msg":"The signature information is incorrect","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000161439},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.000161629},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/go/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/usr/local/go/src/net/http/server.go:1924\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373\ngithub.com/xinliangnote/go-gin-api/pkg/errno.(*err).WithErr\n\t/Users/thanhtran/Documents/Golang/go-gin-api/pkg/errno/errno.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/thanhtran/.go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/Users/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/usr/local/go/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/usr/local/go/src/net/http/server.go:1924\nruntime.goexit\n\t/usr/local/go/src/runtime/asm_amd64.s:1373"}
{"level":"info","time":"2021-05-19 11:52:45","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"POST","path":"/login/web","http_code":200,"business_code":0,"success":true,"cost_seconds":0.008585305,"trace_id":"1ff7cd800d255c506fb3","trace_info":{"trace_id":"1ff7cd800d255c506fb3","request":{"ttl":"un-limit","method":"POST","decoded_url":"/login/web","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["en-US,en;q=0.9"],"Authorization":["admin 7ARPP1uOC3NXVz049PudrA6u7MNb/8NUwKDLdVIbePs="],"Authorization-Date":["2021-05-19 11:52:45"],"Connection":["keep-alive"],"Content-Length":["56"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Origin":["http://127.0.0.1:9999"],"Referer":["http://127.0.0.1:9999/login"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Sec-Gpc":["1"],"User-Agent":["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["1ff7cd800d255c506fb3"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.00858507},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-19 11:52:45","stack":"/Users/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/authorized_repo/gen_authorized.go:80","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 AND business_key = 'admin' ORDER BY `authorized`.`id` LIMIT 1","rows_affected":1,"cost_seconds":0.00247859},{"timestamp":"2021-05-19 11:52:45","stack":"/Users/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/authorized_api_repo/gen_authorized_api.go:98","sql":"SELECT * FROM `authorized_api` WHERE is_deleted = -1 AND business_key = 'admin' ORDER BY id DESC ","rows_affected":5,"cost_seconds":0.001525773},{"timestamp":"2021-05-19 11:52:45","stack":"/Users/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.001635139}],"redis":[{"timestamp":"2021-05-19 11:52:45","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.001041789},{"timestamp":"2021-05-19 11:52:45","handle":"set","key":"go-gin-api:authorized:admin","value":"{\"key\":\"admin\",\"secret\":\"12878dd962115106db6d\",\"is_used\":1,\"apis\":[{\"method\":\"PATCH\",\"api\":\"/api/**\"},{\"method\":\"DELETE\",\"api\":\"/api/**\"},{\"method\":\"PUT\",\"api\":\"/api/**\"},{\"method\":\"POST\",\"api\":\"/api/**\"},{\"method\":\"GET\",\"api\":\"/api/**\"}]}","ttl":1440,"cost_seconds":0.000763434},{"timestamp":"2021-05-19 11:52:45","handle":"set","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","value":"{\"Id\":1,\"Username\":\"admin\",\"Password\":\"f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0\",\"Nickname\":\"administrator\",\"Mobile\":\"13888888888\",\"IsUsed\":1,\"IsDeleted\":-1,\"CreatedAt\":\"2021-05-19T04:49:45+07:00\",\"CreatedUser\":\"init\",\"UpdatedAt\":\"2021-05-19T04:49:45+07:00\",\"UpdatedUser\":\"\"}","ttl":1440,"cost_seconds":0.000593754}],"grpc":null,"success":true,"cost_seconds":0.008585305}}
{"level":"info","time":"2021-05-19 11:52:46","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.005543504,"trace_id":"0bb333cd0e99836f3995","trace_info":{"trace_id":"0bb333cd0e99836f3995","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["en-US,en;q=0.9"],"Authorization":["admin p3YaIWWtEDOTTuaD8IhesXYRgsPOeArSKmNVWnMstS4="],"Authorization-Date":["2021-05-19 11:52:46"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["_login_token_=1ba4686338ee7354395ad13f7d3466c1"],"Referer":["http://127.0.0.1:9999/"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Sec-Gpc":["1"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0bb333cd0e99836f3995"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"administrator","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.005543223},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-19 11:52:46","stack":"/Users/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.002278963}],"redis":[{"timestamp":"2021-05-19 11:52:46","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000860909},{"timestamp":"2021-05-19 11:52:46","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000805598}],"grpc":null,"success":true,"cost_seconds":0.005543504}}
{"level":"info","time":"2021-05-19 11:59:56","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"POST","path":"/api/admin/logout","http_code":200,"business_code":0,"success":true,"cost_seconds":0.003606801,"trace_id":"42973a001f1723d24188","trace_info":{"trace_id":"42973a001f1723d24188","request":{"ttl":"un-limit","method":"POST","decoded_url":"/api/admin/logout","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["en-US,en;q=0.9"],"Authorization":["admin y20WUV0+64Xi8281ai3IeolXr0YYFT9ftvhYCwh+AQI="],"Authorization-Date":["2021-05-19 11:59:56"],"Connection":["keep-alive"],"Content-Length":["0"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["_login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fconfig%2Fcode; _nav_title_=%E9%94%99%E8%AF%AF%E7%A0%81"],"Origin":["http://127.0.0.1:9999"],"Referer":["http://127.0.0.1:9999/"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Sec-Gpc":["1"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["42973a001f1723d24188"],"Vary":["Origin"]},"body":{"username":"admin"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.003606551},"third_party_requests":null,"debugs":null,"sqls":null,"redis":[{"timestamp":"2021-05-19 11:59:56","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000726965},{"timestamp":"2021-05-19 11:59:56","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000814298},{"timestamp":"2021-05-19 11:59:56","handle":"del","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000666419}],"grpc":null,"success":true,"cost_seconds":0.003606801}}
{"level":"info","time":"2021-05-19 17:25:47","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000158137,"trace_id":"3bd64a457419391305dd","trace_info":{"trace_id":"3bd64a457419391305dd","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin 8sl2SF866Ie4FjelQIAfDJVoaTXRPwG1YnaIu3QQ8Ks="],"Authorization-Date":["2021-05-19 17:25:47"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["3bd64a457419391305dd"],"Vary":["Origin"]},"body":{"HttpCode":401,"BusinessCode":10104,"Message":"The signature information is incorrect","Err":{}},"business_code":10104,"business_code_msg":"The signature information is incorrect","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.00015794},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.000158137},"error":"Header 中缺少 Token 参数","errorVerbose":"Header 中缺少 Token 参数\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:1924\nruntime.goexit\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/runtime/asm_amd64.s:1373\ngithub.com/xinliangnote/go-gin-api/pkg/errno.(*err).WithErr\n\t/home/thanhtran/Documents/Golang/go-gin-api/pkg/errno/errno.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:1924\nruntime.goexit\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/runtime/asm_amd64.s:1373"}
{"level":"info","time":"2021-05-19 17:25:57","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"POST","path":"/login/web","http_code":200,"business_code":0,"success":true,"cost_seconds":0.033759187,"trace_id":"0b30172d676be809fb50","trace_info":{"trace_id":"0b30172d676be809fb50","request":{"ttl":"un-limit","method":"POST","decoded_url":"/login/web","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin aLhIWb46RyBZymklkox+eueHGVYjA0pKGB3dTyhXBf4="],"Authorization-Date":["2021-05-19 17:25:57"],"Connection":["keep-alive"],"Content-Length":["56"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK"],"Origin":["http://127.0.0.1:9999"],"Referer":["http://127.0.0.1:9999/login"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0b30172d676be809fb50"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.033758331},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-19 17:25:57","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/authorized_repo/gen_authorized.go:80","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 AND business_key = 'admin' ORDER BY `authorized`.`id` LIMIT 1","rows_affected":1,"cost_seconds":0.012627817},{"timestamp":"2021-05-19 17:25:57","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/authorized_api_repo/gen_authorized_api.go:98","sql":"SELECT * FROM `authorized_api` WHERE is_deleted = -1 AND business_key = 'admin' ORDER BY id DESC ","rows_affected":5,"cost_seconds":0.007471291},{"timestamp":"2021-05-19 17:25:57","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.008722189}],"redis":[{"timestamp":"2021-05-19 17:25:57","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000726734},{"timestamp":"2021-05-19 17:25:57","handle":"set","key":"go-gin-api:authorized:admin","value":"{\"key\":\"admin\",\"secret\":\"12878dd962115106db6d\",\"is_used\":1,\"apis\":[{\"method\":\"PATCH\",\"api\":\"/api/**\"},{\"method\":\"DELETE\",\"api\":\"/api/**\"},{\"method\":\"PUT\",\"api\":\"/api/**\"},{\"method\":\"POST\",\"api\":\"/api/**\"},{\"method\":\"GET\",\"api\":\"/api/**\"}]}","ttl":1440,"cost_seconds":0.001729065},{"timestamp":"2021-05-19 17:25:57","handle":"set","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","value":"{\"Id\":1,\"Username\":\"admin\",\"Password\":\"f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0\",\"Nickname\":\"Jeremie\",\"Mobile\":\"13888888888\",\"IsUsed\":1,\"IsDeleted\":-1,\"CreatedAt\":\"2021-05-06T10:33:45+07:00\",\"CreatedUser\":\"init\",\"UpdatedAt\":\"2021-05-06T10:33:45+07:00\",\"UpdatedUser\":\"\"}","ttl":1440,"cost_seconds":0.000677633}],"grpc":null,"success":true,"cost_seconds":0.033759187}}
{"level":"info","time":"2021-05-19 17:25:58","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001144964,"trace_id":"dab6510f6d9597691253","trace_info":{"trace_id":"dab6510f6d9597691253","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin MnVXDQAsmtAgf3R8qMpbh+0zh3wfZ4EpYxIaSCjBbpc="],"Authorization-Date":["2021-05-19 17:25:58"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["dab6510f6d9597691253"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"Jeremie","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001144668},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-19 17:25:58","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.000560329}],"redis":[{"timestamp":"2021-05-19 17:25:58","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000090624},{"timestamp":"2021-05-19 17:25:58","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000067386}],"grpc":null,"success":true,"cost_seconds":0.001144964}}
{"level":"info","time":"2021-05-19 18:03:52","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 18:03:52","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 18:03:52","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 18:03:52","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 18:04:03","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001849664,"trace_id":"2c8bbb7d46c6b6fa9407","trace_info":{"trace_id":"2c8bbb7d46c6b6fa9407","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin aJp5Mh2kSP/ZjYDvsbrFr7jOaWCnYDMiO/1cFgJXgsk="],"Authorization-Date":["2021-05-19 18:04:03"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fconfig%2Fcode; _nav_title_=%E9%94%99%E8%AF%AF%E7%A0%81"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["2c8bbb7d46c6b6fa9407"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"Jeremie","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001849326},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-19 18:04:03","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.000847385}],"redis":[{"timestamp":"2021-05-19 18:04:03","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000095352},{"timestamp":"2021-05-19 18:04:03","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000090237}],"grpc":null,"success":true,"cost_seconds":0.001849664}}
{"level":"info","time":"2021-05-19 18:04:10","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[dev]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001452042,"trace_id":"443500b8f779858774d3","trace_info":{"trace_id":"443500b8f779858774d3","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin odtpPi6Cz/pyZJm6SdvUDptVuVHDeKIC4Gl3U1llz/E="],"Authorization-Date":["2021-05-19 18:04:10"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fdashboard; _nav_title_=%20%E4%BB%AA%E8%A1%A8%E7%9B%98"],"Referer":["http://127.0.0.1:9999/admin/modify_info"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["443500b8f779858774d3"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"Jeremie","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001451708},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-19 18:04:10","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.000666836}],"redis":[{"timestamp":"2021-05-19 18:04:10","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000241687},{"timestamp":"2021-05-19 18:04:10","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000130688}],"grpc":null,"success":true,"cost_seconds":0.001452042}}
{"level":"info","time":"2021-05-19 18:05:35","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 18:05:35","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 18:05:35","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-19 18:05:35","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[dev]"}
{"level":"info","time":"2021-05-20 14:22:43","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.006734044,"trace_id":"eb21a3a171f3ce88ce43","trace_info":{"trace_id":"eb21a3a171f3ce88ce43","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin H/TGADLbeTkWgakEcCGIK5p2RdiRusI586Z7SPcS94o="],"Authorization-Date":["2021-05-20 14:22:43"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fconfig%2Femail; _nav_title_=%E5%91%8A%E8%AD%A6%E9%82%AE%E7%AE%B1"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["eb21a3a171f3ce88ce43"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"Jeremie","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.006733739},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 14:22:43","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.005872687}],"redis":[{"timestamp":"2021-05-20 14:22:43","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000147748},{"timestamp":"2021-05-20 14:22:43","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000105107}],"grpc":null,"success":true,"cost_seconds":0.006734044}}
{"level":"info","time":"2021-05-20 14:29:53","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000122044,"trace_id":"5cd308ecdbdf628a03db","trace_info":{"trace_id":"5cd308ecdbdf628a03db","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin Ildno4/8l9Yw1sO2UKBwQLGRG4lERXQs1VYxXtONIiE="],"Authorization-Date":["2021-05-20 14:29:53"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=ha4hz4cVqHssPiN9rbZCpFnff1kyMm0NUxf27dDpktnuEU2aGvPj9SNe714bW3by; grafana_session=82ba89f436ff07af6ccfe8f62358957f"],"Referer":["http://localhost:9999/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["5cd308ecdbdf628a03db"],"Vary":["Origin"]},"body":{"HttpCode":401,"BusinessCode":10104,"Message":"The signature information is incorrect","Err":{}},"business_code":10104,"business_code_msg":"The signature information is incorrect","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.000121676},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.000122044},"error":"Missing Token parameter in Header","errorVerbose":"Missing Token parameter in Header\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:1924\nruntime.goexit\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/runtime/asm_amd64.s:1373\ngithub.com/xinliangnote/go-gin-api/pkg/errno.(*err).WithErr\n\t/home/thanhtran/Documents/Golang/go-gin-api/pkg/errno/errno.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:1924\nruntime.goexit\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/runtime/asm_amd64.s:1373"}
{"level":"info","time":"2021-05-20 14:29:57","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/login/web","http_code":200,"business_code":0,"success":true,"cost_seconds":0.007956033,"trace_id":"a5db7b7e73617147d473","trace_info":{"trace_id":"a5db7b7e73617147d473","request":{"ttl":"un-limit","method":"POST","decoded_url":"/login/web","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin a0KZd0VS1Ob0ZdX5E3QH7zMtbvA87hU0OCogEbQj4Jg="],"Authorization-Date":["2021-05-20 14:29:57"],"Connection":["keep-alive"],"Content-Length":["56"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["csrftoken=ha4hz4cVqHssPiN9rbZCpFnff1kyMm0NUxf27dDpktnuEU2aGvPj9SNe714bW3by; grafana_session=82ba89f436ff07af6ccfe8f62358957f"],"Origin":["http://localhost:9999"],"Referer":["http://localhost:9999/login"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a5db7b7e73617147d473"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.007955321},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 14:29:57","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.004143278}],"redis":[{"timestamp":"2021-05-20 14:29:57","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000532717},{"timestamp":"2021-05-20 14:29:57","handle":"set","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","value":"{\"Id\":1,\"Username\":\"admin\",\"Password\":\"f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0\",\"Nickname\":\"Jeremie\",\"Mobile\":\"13888888888\",\"IsUsed\":1,\"IsDeleted\":-1,\"CreatedAt\":\"2021-05-06T10:33:45+07:00\",\"CreatedUser\":\"init\",\"UpdatedAt\":\"2021-05-06T10:33:45+07:00\",\"UpdatedUser\":\"\"}","ttl":1440,"cost_seconds":0.002796774}],"grpc":null,"success":true,"cost_seconds":0.007956033}}
{"level":"info","time":"2021-05-20 14:29:57","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001330284,"trace_id":"6deabf8d9dc1386ad5a3","trace_info":{"trace_id":"6deabf8d9dc1386ad5a3","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin LbzsOn3yv0oXjpqv9YplQdI6UffICGtvMGGyuP02tlw="],"Authorization-Date":["2021-05-20 14:29:57"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=ha4hz4cVqHssPiN9rbZCpFnff1kyMm0NUxf27dDpktnuEU2aGvPj9SNe714bW3by; grafana_session=82ba89f436ff07af6ccfe8f62358957f; _login_token_=1ba4686338ee7354395ad13f7d3466c1"],"Referer":["http://localhost:9999/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["6deabf8d9dc1386ad5a3"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"Jeremie","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001329855},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 14:29:57","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.000792108}],"redis":[{"timestamp":"2021-05-20 14:29:57","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000098107},{"timestamp":"2021-05-20 14:29:57","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000082149}],"grpc":null,"success":true,"cost_seconds":0.001330284}}
{"level":"info","time":"2021-05-20 17:45:18","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-20 17:45:18","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-20 17:45:18","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-20 17:45:18","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-20 17:45:23","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":401,"business_code":10104,"success":false,"cost_seconds":0.000154013,"trace_id":"32f8bfbc7b8f23716eca","trace_info":{"trace_id":"32f8bfbc7b8f23716eca","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin w67LCEZapzz8Rr+g/fqDQkecqssrkc0WFNo3cIok0D8="],"Authorization-Date":["2021-05-20 17:45:23"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _nav_url_=%2Fconfig%2Femail; _nav_title_=%E5%91%8A%E8%AD%A6%E9%82%AE%E7%AE%B1"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["32f8bfbc7b8f23716eca"],"Vary":["Origin"]},"body":{"HttpCode":401,"BusinessCode":10104,"Message":"The signature information is incorrect","Err":{}},"business_code":10104,"business_code_msg":"The signature information is incorrect","http_code":401,"http_code_msg":"Unauthorized","cost_seconds":0.00015381},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":false,"cost_seconds":0.000154013},"error":"Missing Token parameter in Header","errorVerbose":"Missing Token parameter in Header\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:1924\nruntime.goexit\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/runtime/asm_amd64.s:1373\ngithub.com/xinliangnote/go-gin-api/pkg/errno.(*err).WithErr\n\t/home/thanhtran/Documents/Golang/go-gin-api/pkg/errno/errno.go:46\ngithub.com/xinliangnote/go-gin-api/internal/router/middleware.(*middleware).Token\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/router/middleware/middle_token.go:21\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.WrapAuthHandler.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:135\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.wrapHandlers.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:214\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func3\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:505\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func2\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:487\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.New.func1\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:336\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/home/thanhtran/.gvm/pkgsets/go1.14.15/global/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\ngithub.com/xinliangnote/go-gin-api/internal/pkg/core.(*mux).ServeHTTP\n\t/home/thanhtran/Documents/Golang/go-gin-api/internal/pkg/core/core.go:234\nnet/http.serverHandler.ServeHTTP\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:2836\nnet/http.(*conn).serve\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/net/http/server.go:1924\nruntime.goexit\n\t/home/thanhtran/.gvm/gos/go1.14.15/src/runtime/asm_amd64.s:1373"}
{"level":"info","time":"2021-05-20 17:45:30","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/login/web","http_code":200,"business_code":0,"success":true,"cost_seconds":0.012345859,"trace_id":"629f0ef7ac388564941d","trace_info":{"trace_id":"629f0ef7ac388564941d","request":{"ttl":"un-limit","method":"POST","decoded_url":"/login/web","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin 8iM2F7n7VHTauNOYilkVg8acgN6DGWSk1gle1zGe5z0="],"Authorization-Date":["2021-05-20 17:45:30"],"Connection":["keep-alive"],"Content-Length":["56"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _nav_url_=%2Fconfig%2Femail; _nav_title_=%E5%91%8A%E8%AD%A6%E9%82%AE%E7%AE%B1"],"Origin":["http://127.0.0.1:9999"],"Referer":["http://127.0.0.1:9999/login"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"username=admin&password=21232f297a57a5a743894a0e4a801fc3"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["629f0ef7ac388564941d"],"Vary":["Origin"]},"body":{"token":"1ba4686338ee7354395ad13f7d3466c1"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.012345531},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 17:45:30","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/authorized_repo/gen_authorized.go:80","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 AND business_key = 'admin' ORDER BY `authorized`.`id` LIMIT 1","rows_affected":1,"cost_seconds":0.00489393},{"timestamp":"2021-05-20 17:45:30","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/authorized_api_repo/gen_authorized_api.go:98","sql":"SELECT * FROM `authorized_api` WHERE is_deleted = -1 AND business_key = 'admin' ORDER BY id DESC ","rows_affected":5,"cost_seconds":0.003453215},{"timestamp":"2021-05-20 17:45:30","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND username = 'admin' AND (password = 'f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0') AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.002255042}],"redis":[{"timestamp":"2021-05-20 17:45:30","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000304488},{"timestamp":"2021-05-20 17:45:30","handle":"set","key":"go-gin-api:authorized:admin","value":"{\"key\":\"admin\",\"secret\":\"12878dd962115106db6d\",\"is_used\":1,\"apis\":[{\"method\":\"PATCH\",\"api\":\"/api/**\"},{\"method\":\"DELETE\",\"api\":\"/api/**\"},{\"method\":\"PUT\",\"api\":\"/api/**\"},{\"method\":\"POST\",\"api\":\"/api/**\"},{\"method\":\"GET\",\"api\":\"/api/**\"}]}","ttl":1440,"cost_seconds":0.000512128},{"timestamp":"2021-05-20 17:45:30","handle":"set","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","value":"{\"Id\":1,\"Username\":\"admin\",\"Password\":\"f78382de80cf583cf854bbac0b6e796fbde36fe2739ca4ae072637010f179cb0\",\"Nickname\":\"Jeremie\",\"Mobile\":\"13888888888\",\"IsUsed\":1,\"IsDeleted\":-1,\"CreatedAt\":\"2021-05-06T10:33:45+07:00\",\"CreatedUser\":\"init\",\"UpdatedAt\":\"2021-05-06T10:33:45+07:00\",\"UpdatedUser\":\"\"}","ttl":1440,"cost_seconds":0.000281639}],"grpc":null,"success":true,"cost_seconds":0.012345859}}
{"level":"info","time":"2021-05-20 17:45:30","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.00164854,"trace_id":"896aac356fa447316a7a","trace_info":{"trace_id":"896aac356fa447316a7a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin mo0O9MyxxoTMYrhAp4uitbRhhZkqYvh19EUGlPz/W4M="],"Authorization-Date":["2021-05-20 17:45:30"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _nav_url_=%2Fconfig%2Femail; _nav_title_=%E5%91%8A%E8%AD%A6%E9%82%AE%E7%AE%B1; _login_token_=1ba4686338ee7354395ad13f7d3466c1"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["896aac356fa447316a7a"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"Jeremie","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001648111},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 17:45:30","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.000896041}],"redis":[{"timestamp":"2021-05-20 17:45:30","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000117524},{"timestamp":"2021-05-20 17:45:30","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000115325}],"grpc":null,"success":true,"cost_seconds":0.00164854}}
{"level":"info","time":"2021-05-20 17:48:28","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-20 17:48:28","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-20 17:48:28","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-20 17:48:28","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-20 17:48:32","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001937948,"trace_id":"8726a0d688bd7259601b","trace_info":{"trace_id":"8726a0d688bd7259601b","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin xvWJaUZ9tnE0BIkjyZwn26yEQm4We2wl99yNJz9ajBU="],"Authorization-Date":["2021-05-20 17:48:32"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fdashboard; _nav_title_=%20%E4%BB%AA%E8%A1%A8%E7%9B%98"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["8726a0d688bd7259601b"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"Jeremie","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001937583},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 17:48:32","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.000980071}],"redis":[{"timestamp":"2021-05-20 17:48:32","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000135029},{"timestamp":"2021-05-20 17:48:32","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000094419}],"grpc":null,"success":true,"cost_seconds":0.001937948}}
{"level":"info","time":"2021-05-20 17:48:37","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001763562,"trace_id":"690dfe88848b59588342","trace_info":{"trace_id":"690dfe88848b59588342","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin yXnPyvE2gZQ4N/EhgSMRgaIf1xi8iJLpigsuh2sadn0="],"Authorization-Date":["2021-05-20 17:48:37"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fdashboard; _nav_title_=%20%E4%BB%AA%E8%A1%A8%E7%9B%98"],"Referer":["http://127.0.0.1:9999/admin/modify_info"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["690dfe88848b59588342"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"Jeremie","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001763081},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 17:48:37","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.000829036}],"redis":[{"timestamp":"2021-05-20 17:48:37","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000247647},{"timestamp":"2021-05-20 17:48:37","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000224642}],"grpc":null,"success":true,"cost_seconds":0.001763562}}
{"level":"info","time":"2021-05-20 17:49:19","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/authorized?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.003245299,"trace_id":"f3afe900ce31e307f45a","trace_info":{"trace_id":"f3afe900ce31e307f45a","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/authorized?page=1&page_size=10","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin AdVpZGjRgGBjyJZ+euXaM43Kli8msOYwptEeMR42/yg="],"Authorization-Date":["2021-05-20 17:49:19"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fauthorized%2Flist; _nav_title_=Caller"],"Referer":["http://127.0.0.1:9999/authorized/list"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["f3afe900ce31e307f45a"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","business_key":"admin","business_secret":"12878dd962115106db6d","business_developer":"administrator","remark":"management panel call","is_used":1,"created_at":"2021-05-06 10:33:45","created_user":"init","updated_at":"2021-05-06 10:33:45","updated_user":""}],"pagination":{"total":1,"current_page":1,"pre_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.003244987},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 17:49:19","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/authorized_repo/gen_authorized.go:98","sql":"SELECT * FROM `authorized` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.00091285},{"timestamp":"2021-05-20 17:49:19","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/authorized_repo/gen_authorized.go:71","sql":"SELECT count(1) FROM `authorized` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.001321596}],"redis":[{"timestamp":"2021-05-20 17:49:19","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000174425},{"timestamp":"2021-05-20 17:49:19","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000125967}],"grpc":null,"success":true,"cost_seconds":0.003245299}}
{"level":"info","time":"2021-05-20 17:49:26","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.003410573,"trace_id":"c564d4c2ada1113b0660","trace_info":{"trace_id":"c564d4c2ada1113b0660","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin zGWuDltF271jmNyDVjDP/D2EVCOx8YPV1qoyqLTOsqY="],"Authorization-Date":["2021-05-20 17:49:26"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Flist; _nav_title_=Administrator"],"Referer":["http://127.0.0.1:9999/admin/list"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["c564d4c2ada1113b0660"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"Jeremie","mobile":"13888888888","is_used":1,"created_at":"2021-05-06 10:33:45","created_user":"init","updated_at":"2021-05-06 10:33:45","updated_user":""}],"pagination":{"total":1,"current_page":1,"pre_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.003410082},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 17:49:26","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.001135234},{"timestamp":"2021-05-20 17:49:26","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:71","sql":"SELECT count(1) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.000830884}],"redis":[{"timestamp":"2021-05-20 17:49:26","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000171402},{"timestamp":"2021-05-20 17:49:26","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000136399}],"grpc":null,"success":true,"cost_seconds":0.003410573}}
{"level":"info","time":"2021-05-20 17:49:29","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.002672609,"trace_id":"0d7ab29df1a46f74228c","trace_info":{"trace_id":"0d7ab29df1a46f74228c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin bCfPwN1J/nc7Fd1gdyQOHu46XFV1JI32BKqvzm6712I="],"Authorization-Date":["2021-05-20 17:49:29"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Flist; _nav_title_=Administrator"],"Referer":["http://127.0.0.1:9999/admin/list"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["0d7ab29df1a46f74228c"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"Jeremie","mobile":"13888888888","is_used":1,"created_at":"2021-05-06 10:33:45","created_user":"init","updated_at":"2021-05-06 10:33:45","updated_user":""}],"pagination":{"total":1,"current_page":1,"pre_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.002671845},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 17:49:29","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.000830889},{"timestamp":"2021-05-20 17:49:29","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:71","sql":"SELECT count(1) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.000911758}],"redis":[{"timestamp":"2021-05-20 17:49:29","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000157243},{"timestamp":"2021-05-20 17:49:29","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000158368}],"grpc":null,"success":true,"cost_seconds":0.002672609}}
{"level":"info","time":"2021-05-20 17:50:26","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-20 17:50:26","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-20 17:50:26","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-20 17:50:26","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-20 17:50:31","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.002262238,"trace_id":"a07224ffe488129d9673","trace_info":{"trace_id":"a07224ffe488129d9673","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin eI7xDOQqiRXRre6Fqlu/+cP4FtM1mLIwt3w/luyZItI="],"Authorization-Date":["2021-05-20 17:50:31"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Flist; _nav_title_=Administrator"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["a07224ffe488129d9673"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"Jeremie","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.00226185},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 17:50:31","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.001185437}],"redis":[{"timestamp":"2021-05-20 17:50:31","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000152575},{"timestamp":"2021-05-20 17:50:31","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000159868}],"grpc":null,"success":true,"cost_seconds":0.002262238}}
{"level":"info","time":"2021-05-20 17:50:31","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001743923,"trace_id":"36116d0c36081e599325","trace_info":{"trace_id":"36116d0c36081e599325","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin +C4TNqAlYL15cYimyHeUfjNHJNjJEC3l8sorCZ9zgQg="],"Authorization-Date":["2021-05-20 17:50:31"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Flist; _nav_title_=Administrator"],"Referer":["http://127.0.0.1:9999/admin/list"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["36116d0c36081e599325"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"Jeremie","mobile":"13888888888","is_used":1,"created_at":"2021-05-06 10:33:45","created_user":"init","updated_at":"2021-05-06 10:33:45","updated_user":""}],"pagination":{"total":1,"current_page":1,"pre_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.00174358},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 17:50:31","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.000553037},{"timestamp":"2021-05-20 17:50:31","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:71","sql":"SELECT count(1) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.000401457}],"redis":[{"timestamp":"2021-05-20 17:50:31","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000137409},{"timestamp":"2021-05-20 17:50:31","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000122575}],"grpc":null,"success":true,"cost_seconds":0.001743923}}
{"level":"info","time":"2021-05-20 17:50:44","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001245957,"trace_id":"261b84a8acc7a9dbc39f","trace_info":{"trace_id":"261b84a8acc7a9dbc39f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin 1b0fcMjd29RiVGgyC9qsKkcjs0sYDhBb6nVq+xIuVfs="],"Authorization-Date":["2021-05-20 17:50:44"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Flist; _nav_title_=Administrator"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["261b84a8acc7a9dbc39f"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"Jeremie","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001245552},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 17:50:44","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.000651152}],"redis":[{"timestamp":"2021-05-20 17:50:44","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000109544},{"timestamp":"2021-05-20 17:50:44","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000124312}],"grpc":null,"success":true,"cost_seconds":0.001245957}}
{"level":"info","time":"2021-05-20 17:50:45","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001905348,"trace_id":"329392b5bd6b07cda7e6","trace_info":{"trace_id":"329392b5bd6b07cda7e6","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin vQUpVfTxjK9SjJ286SDanXmPmCFMdPNxLHHf7e2Ii7E="],"Authorization-Date":["2021-05-20 17:50:45"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Fadmin%2Flist; _nav_title_=Administrator"],"Referer":["http://127.0.0.1:9999/admin/list"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["329392b5bd6b07cda7e6"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"Jeremie","mobile":"13888888888","is_used":1,"created_at":"2021-05-06 10:33:45","created_user":"init","updated_at":"2021-05-06 10:33:45","updated_user":""}],"pagination":{"total":1,"current_page":1,"pre_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.00190499},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 17:50:45","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.000779474},{"timestamp":"2021-05-20 17:50:45","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:71","sql":"SELECT count(1) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.000482719}],"redis":[{"timestamp":"2021-05-20 17:50:45","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000106068},{"timestamp":"2021-05-20 17:50:45","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000091247}],"grpc":null,"success":true,"cost_seconds":0.001905348}}
{"level":"info","time":"2021-05-20 17:50:55","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/graphql","http_code":200,"business_code":0,"success":true,"cost_seconds":0.000275119,"trace_id":"584df56a58eb34bc227e","trace_info":{"trace_id":"584df56a58eb34bc227e","request":{"ttl":"un-limit","method":"GET","decoded_url":"/graphql","header":{"Accept":["text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Connection":["keep-alive"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Flogs; _nav_title_=Call%20log"],"Referer":["http://127.0.0.1:9999/"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["document"],"Sec-Fetch-Mode":["navigate"],"Sec-Fetch-Site":["same-origin"],"Sec-Fetch-User":["?1"],"Upgrade-Insecure-Requests":["1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"]},"body":""},"response":{"header":{"Content-Type":["text/html"],"Vary":["Origin"]},"body":null,"http_code":200,"http_code_msg":"OK","cost_seconds":0.000274721},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":true,"cost_seconds":0.000275119}}
{"level":"info","time":"2021-05-20 17:50:56","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/graphql/query","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001896108,"trace_id":"e68d453c24c2d81c1fe5","trace_info":{"trace_id":"e68d453c24c2d81c1fe5","request":{"ttl":"un-limit","method":"POST","decoded_url":"/graphql/query","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Connection":["keep-alive"],"Content-Length":["1468"],"Content-Type":["application/json"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Flogs; _nav_title_=Call%20log"],"Origin":["http://127.0.0.1:9999"],"Referer":["http://127.0.0.1:9999/graphql"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Apollo-Tracing":["1"]},"body":"{\"operationName\":\"IntrospectionQuery\",\"variables\":{},\"query\":\"query IntrospectionQuery {\\n  __schema {\\n    queryType {\\n      name\\n    }\\n    mutationType {\\n      name\\n    }\\n    subscriptionType {\\n      name\\n    }\\n    types {\\n      ...FullType\\n    }\\n    directives {\\n      name\\n      description\\n      locations\\n      args {\\n        ...InputValue\\n      }\\n    }\\n  }\\n}\\n\\nfragment FullType on __Type {\\n  kind\\n  name\\n  description\\n  fields(includeDeprecated: true) {\\n    name\\n    description\\n    args {\\n      ...InputValue\\n    }\\n    type {\\n      ...TypeRef\\n    }\\n    isDeprecated\\n    deprecationReason\\n  }\\n  inputFields {\\n    ...InputValue\\n  }\\n  interfaces {\\n    ...TypeRef\\n  }\\n  enumValues(includeDeprecated: true) {\\n    name\\n    description\\n    isDeprecated\\n    deprecationReason\\n  }\\n  possibleTypes {\\n    ...TypeRef\\n  }\\n}\\n\\nfragment InputValue on __InputValue {\\n  name\\n  description\\n  type {\\n    ...TypeRef\\n  }\\n  defaultValue\\n}\\n\\nfragment TypeRef on __Type {\\n  kind\\n  name\\n  ofType {\\n    kind\\n    name\\n    ofType {\\n      kind\\n      name\\n      ofType {\\n        kind\\n        name\\n        ofType {\\n          kind\\n          name\\n          ofType {\\n            kind\\n            name\\n            ofType {\\n              kind\\n              name\\n              ofType {\\n                kind\\n                name\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\"}"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json"],"Vary":["Origin"]},"body":{"data":{"__schema":{"queryType":{"name":"Query"},"mutationType":{"name":"Mutation"},"subscriptionType":null,"types":[{"kind":"OBJECT","name":"User","description":"","fields":[{"name":"id","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"sex","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"mobile","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"updateUserMobileInput","description":"","fields":[],"inputFields":[{"name":"id","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null},{"name":"mobile","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null}],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Int","description":"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Boolean","description":"The `Boolean` scalar type represents `true` or `false`.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"Mutation","description":"","fields":[{"name":"updateUserMobile","description":"","args":[{"name":"data","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"updateUserMobileInput","ofType":null}},"defaultValue":null}],"type":{"kind":"OBJECT","name":"User","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Float","description":"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point).","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"ID","description":"The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as \"4\") or integer (such as 4) input value will be accepted as an ID.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"String","description":"The `String`scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"Query","description":"","fields":[{"name":"bySex","description":"","args":[{"name":"sex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null}],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"User","ofType":null}}},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]}],"directives":[{"name":"include","description":"The @include directive may be provided for fields, fragment spreads, and inline fragments, and allows for conditional inclusion during execution as described by the if argument.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]},{"name":"skip","description":"The @skip directive may be provided for fields, fragment spreads, and inline fragments, and allows for conditional exclusion during execution as described by the if argument.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]},{"name":"deprecated","description":"The @deprecated directive is used within the type system definition language to indicate deprecated portions of a GraphQL service’s schema, such as deprecated fields on a type or deprecated enum values.","locations":["FIELD_DEFINITION","ENUM_VALUE"],"args":[{"name":"reason","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":"\"No longer supported\""}]}]}},"extensions":{"trace_id":"e68d453c24c2d81c1fe5"}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001895613},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":true,"cost_seconds":0.001896108}}
{"level":"info","time":"2021-05-20 17:50:56","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"POST","path":"/graphql/query","http_code":200,"business_code":0,"success":true,"cost_seconds":0.000620471,"trace_id":"0729bfd9cd78b9b5adc4","trace_info":{"trace_id":"0729bfd9cd78b9b5adc4","request":{"ttl":"un-limit","method":"POST","decoded_url":"/graphql/query","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Connection":["keep-alive"],"Content-Length":["1468"],"Content-Type":["application/json"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; _nav_url_=%2Ftool%2Flogs; _nav_title_=Call%20log"],"Origin":["http://127.0.0.1:9999"],"Referer":["http://127.0.0.1:9999/graphql"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Apollo-Tracing":["1"]},"body":"{\"operationName\":\"IntrospectionQuery\",\"variables\":{},\"query\":\"query IntrospectionQuery {\\n  __schema {\\n    queryType {\\n      name\\n    }\\n    mutationType {\\n      name\\n    }\\n    subscriptionType {\\n      name\\n    }\\n    types {\\n      ...FullType\\n    }\\n    directives {\\n      name\\n      description\\n      locations\\n      args {\\n        ...InputValue\\n      }\\n    }\\n  }\\n}\\n\\nfragment FullType on __Type {\\n  kind\\n  name\\n  description\\n  fields(includeDeprecated: true) {\\n    name\\n    description\\n    args {\\n      ...InputValue\\n    }\\n    type {\\n      ...TypeRef\\n    }\\n    isDeprecated\\n    deprecationReason\\n  }\\n  inputFields {\\n    ...InputValue\\n  }\\n  interfaces {\\n    ...TypeRef\\n  }\\n  enumValues(includeDeprecated: true) {\\n    name\\n    description\\n    isDeprecated\\n    deprecationReason\\n  }\\n  possibleTypes {\\n    ...TypeRef\\n  }\\n}\\n\\nfragment InputValue on __InputValue {\\n  name\\n  description\\n  type {\\n    ...TypeRef\\n  }\\n  defaultValue\\n}\\n\\nfragment TypeRef on __Type {\\n  kind\\n  name\\n  ofType {\\n    kind\\n    name\\n    ofType {\\n      kind\\n      name\\n      ofType {\\n        kind\\n        name\\n        ofType {\\n          kind\\n          name\\n          ofType {\\n            kind\\n            name\\n            ofType {\\n              kind\\n              name\\n              ofType {\\n                kind\\n                name\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\"}"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json"],"Vary":["Origin"]},"body":{"data":{"__schema":{"queryType":{"name":"Query"},"mutationType":{"name":"Mutation"},"subscriptionType":null,"types":[{"kind":"OBJECT","name":"User","description":"","fields":[{"name":"id","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"name","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"sex","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null},{"name":"mobile","description":"","args":[],"type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"INPUT_OBJECT","name":"updateUserMobileInput","description":"","fields":[],"inputFields":[{"name":"id","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"ID","ofType":null}},"defaultValue":null},{"name":"mobile","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null}],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Int","description":"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Boolean","description":"The `Boolean` scalar type represents `true` or `false`.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"Mutation","description":"","fields":[{"name":"updateUserMobile","description":"","args":[{"name":"data","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"INPUT_OBJECT","name":"updateUserMobileInput","ofType":null}},"defaultValue":null}],"type":{"kind":"OBJECT","name":"User","ofType":null},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"Float","description":"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](http://en.wikipedia.org/wiki/IEEE_floating_point).","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"ID","description":"The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as \"4\") or integer (such as 4) input value will be accepted as an ID.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"SCALAR","name":"String","description":"The `String`scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.","fields":[],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]},{"kind":"OBJECT","name":"Query","description":"","fields":[{"name":"bySex","description":"","args":[{"name":"sex","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"String","ofType":null}},"defaultValue":null}],"type":{"kind":"LIST","name":null,"ofType":{"kind":"NON_NULL","name":null,"ofType":{"kind":"OBJECT","name":"User","ofType":null}}},"isDeprecated":false,"deprecationReason":null}],"inputFields":[],"interfaces":[],"enumValues":[],"possibleTypes":[]}],"directives":[{"name":"skip","description":"The @skip directive may be provided for fields, fragment spreads, and inline fragments, and allows for conditional exclusion during execution as described by the if argument.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]},{"name":"deprecated","description":"The @deprecated directive is used within the type system definition language to indicate deprecated portions of a GraphQL service’s schema, such as deprecated fields on a type or deprecated enum values.","locations":["FIELD_DEFINITION","ENUM_VALUE"],"args":[{"name":"reason","description":"","type":{"kind":"SCALAR","name":"String","ofType":null},"defaultValue":"\"No longer supported\""}]},{"name":"include","description":"The @include directive may be provided for fields, fragment spreads, and inline fragments, and allows for conditional inclusion during execution as described by the if argument.","locations":["FIELD","FRAGMENT_SPREAD","INLINE_FRAGMENT"],"args":[{"name":"if","description":"","type":{"kind":"NON_NULL","name":null,"ofType":{"kind":"SCALAR","name":"Boolean","ofType":null}},"defaultValue":null}]}]}},"extensions":{"trace_id":"0729bfd9cd78b9b5adc4"}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.000620146},"third_party_requests":null,"debugs":null,"sqls":null,"redis":null,"grpc":null,"success":true,"cost_seconds":0.000620471}}
{"level":"info","time":"2021-05-20 18:02:38","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin?page=1&page_size=10","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001402798,"trace_id":"60a77997b4bdec8b6c74","trace_info":{"trace_id":"60a77997b4bdec8b6c74","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin?page=1&page_size=10","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin ECBGYYCgQl9Yds5qgUEWDYRXBe7yC+rN8QxmOhQPGds="],"Authorization-Date":["2021-05-20 18:02:38"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; the_logo_bg=color_2; the_header_bg=color_2; the_sidebar_bg=color_8; _nav_url_=%2Fadmin%2Flist; _nav_title_=Administrator"],"Referer":["http://127.0.0.1:9999/admin/list"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["60a77997b4bdec8b6c74"],"Vary":["Origin"]},"body":{"list":[{"id":1,"hashid":"zjON6am6eMdR","username":"admin","nickname":"Jeremie","mobile":"13888888888","is_used":1,"created_at":"2021-05-06 10:33:45","created_user":"init","updated_at":"2021-05-06 10:33:45","updated_user":""}],"pagination":{"total":1,"current_page":1,"pre_page_count":10}},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001402455},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 18:02:38","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 ORDER BY id DESC LIMIT 10","rows_affected":1,"cost_seconds":0.000511906},{"timestamp":"2021-05-20 18:02:38","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:71","sql":"SELECT count(1) FROM `admin` WHERE is_deleted = -1 ","rows_affected":1,"cost_seconds":0.00028425}],"redis":[{"timestamp":"2021-05-20 18:02:38","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000139108},{"timestamp":"2021-05-20 18:02:38","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000092804}],"grpc":null,"success":true,"cost_seconds":0.001402798}}
{"level":"info","time":"2021-05-20 18:02:43","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001720999,"trace_id":"4cf11e780e903fb4d26f","trace_info":{"trace_id":"4cf11e780e903fb4d26f","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin Vv+JVJqpsIdIV9InKbjZ/lE5wC05l37Oov50lk80VPk="],"Authorization-Date":["2021-05-20 18:02:43"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; the_logo_bg=color_2; the_header_bg=color_2; the_sidebar_bg=color_8; _nav_url_=%2Fadmin%2Flist; _nav_title_=Administrator"],"Referer":["http://127.0.0.1:9999/admin/modify_info"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["4cf11e780e903fb4d26f"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"Jeremie","mobile":"13888888888"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001720635},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 18:02:43","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.000898342}],"redis":[{"timestamp":"2021-05-20 18:02:43","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000180935},{"timestamp":"2021-05-20 18:02:43","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000141107}],"grpc":null,"success":true,"cost_seconds":0.001720999}}
{"level":"info","time":"2021-05-20 18:02:54","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"PATCH","path":"/api/admin/modify_personal_info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.029274776,"trace_id":"54a9ad68f05eb367d777","trace_info":{"trace_id":"54a9ad68f05eb367d777","request":{"ttl":"un-limit","method":"PATCH","decoded_url":"/api/admin/modify_personal_info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin 2W/ZWOfezKh0kzGNhXRa0BpGn6tQQ8490UwUsM+uYLk="],"Authorization-Date":["2021-05-20 18:02:54"],"Connection":["keep-alive"],"Content-Length":["34"],"Content-Type":["application/x-www-form-urlencoded; charset=UTF-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; the_logo_bg=color_2; the_header_bg=color_2; the_sidebar_bg=color_8; _nav_url_=%2Fadmin%2Flist; _nav_title_=Administrator"],"Origin":["http://127.0.0.1:9999"],"Referer":["http://127.0.0.1:9999/admin/modify_info"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":"nickname=Jeremie&mobile=0987654321"},"response":{"header":{"Access-Control-Allow-Credentials":["true"],"Access-Control-Allow-Origin":["*"],"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["54a9ad68f05eb367d777"],"Vary":["Origin"]},"body":{"username":"admin"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.029273656},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 18:02:54","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:41","sql":"UPDATE `admin` SET `mobile`='0987654321',`nickname`='Jeremie',`updated_user`='admin',`updated_at`='2021-05-20 18:02:54.538' WHERE id = 1","rows_affected":1,"cost_seconds":0.025052639}],"redis":[{"timestamp":"2021-05-20 18:02:54","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000622086},{"timestamp":"2021-05-20 18:02:54","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000641781}],"grpc":null,"success":true,"cost_seconds":0.029274776}}
{"level":"info","time":"2021-05-20 18:02:56","caller":"core/core.go:474","msg":"core-interceptor","domain":"go-gin-api[fat]","method":"GET","path":"/api/admin/info","http_code":200,"business_code":0,"success":true,"cost_seconds":0.001736601,"trace_id":"06859e0d925d978e481c","trace_info":{"trace_id":"06859e0d925d978e481c","request":{"ttl":"un-limit","method":"GET","decoded_url":"/api/admin/info","header":{"Accept":["*/*"],"Accept-Encoding":["gzip, deflate, br"],"Accept-Language":["vi,en-US;q=0.9,en;q=0.8,vi-VN;q=0.7,fr-FR;q=0.6,fr;q=0.5"],"Authorization":["admin TngvalZKWf1sp2hJ2Sh4997viN2mvAW4Atzvv88HdB4="],"Authorization-Date":["2021-05-20 18:02:56"],"Connection":["keep-alive"],"Content-Type":["application/x-www-form-urlencoded; charset=utf-8"],"Cookie":["csrftoken=sDonYrzhOXZ5rw2tQolQy0LIE87FWmT3uK165RKCEFYFJ8tpbY6TM6pV3KGbJ6lK; _login_token_=1ba4686338ee7354395ad13f7d3466c1; the_logo_bg=color_2; the_header_bg=color_2; the_sidebar_bg=color_8; _nav_url_=%2Fadmin%2Flist; _nav_title_=Administrator"],"Referer":["http://127.0.0.1:9999/admin/modify_info"],"Sec-Ch-Ua":["\" Not A;Brand\";v=\"99\", \"Chromium\";v=\"90\", \"Google Chrome\";v=\"90\""],"Sec-Ch-Ua-Mobile":["?0"],"Sec-Fetch-Dest":["empty"],"Sec-Fetch-Mode":["cors"],"Sec-Fetch-Site":["same-origin"],"Token":["1ba4686338ee7354395ad13f7d3466c1"],"User-Agent":["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.212 Safari/537.36"],"X-Requested-With":["XMLHttpRequest"]},"body":""},"response":{"header":{"Content-Type":["application/json; charset=utf-8"],"Trace-Id":["06859e0d925d978e481c"],"Vary":["Origin"]},"body":{"username":"admin","nickname":"Jeremie","mobile":"0987654321"},"http_code":200,"http_code_msg":"OK","cost_seconds":0.001736278},"third_party_requests":null,"debugs":null,"sqls":[{"timestamp":"2021-05-20 18:02:56","stack":"/home/thanhtran/Documents/Golang/go-gin-api/internal/api/repository/db_repo/admin_repo/gen_admin.go:98","sql":"SELECT * FROM `admin` WHERE is_deleted = -1 AND id = 1 AND is_used = 1 LIMIT 1","rows_affected":1,"cost_seconds":0.000693737}],"redis":[{"timestamp":"2021-05-20 18:02:56","handle":"get","key":"go-gin-api:admin:1ba4686338ee7354395ad13f7d3466c1","cost_seconds":0.000305935},{"timestamp":"2021-05-20 18:02:56","handle":"get","key":"go-gin-api:authorized:admin","cost_seconds":0.000110101}],"grpc":null,"success":true,"cost_seconds":0.001736601}}
{"level":"info","time":"2021-05-20 18:05:27","caller":"go-gin-api/main.go:70","msg":"server shutdown success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-20 18:05:27","caller":"go-gin-api/main.go:80","msg":"dbw close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-20 18:05:27","caller":"go-gin-api/main.go:86","msg":"dbr close success","domain":"go-gin-api[fat]"}
{"level":"info","time":"2021-05-20 18:05:27","caller":"go-gin-api/main.go:97","msg":"cache close success","domain":"go-gin-api[fat]"}
